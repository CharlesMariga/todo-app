import{k as j,d as k,r as S,l as w,v as q,m as H,n as W,x as z,B as P,c as Q,e as c,a as _,w as R,u as M,j as J,K as Z,F as G,o as X,t as E,C as Y,D as ee,h as te,L as ae}from"./app-w0SvkJgf.js";import{_ as ne}from"./Logo.vue_vue_type_script_setup_true_lang-DxlFdudR.js";import{_ as A}from"./SvgIcon.vue_vue_type_script_setup_true_lang-vzFmeNMo.js";import{i as se,b as le,n as oe,p as re,o as b,f as ue,u as ie,a as D,A as O,I as N,s as ce,l as pe,d as C,q as de,r as ve,k as fe,m as I,e as g,_ as K,O as me,v as ge,N as F}from"./use-text-value-D6-Ia2UG.js";function be({container:a,accept:v,walk:o,enabled:f}){j(()=>{let d=a.value;if(!d||f!==void 0&&!f.value)return;let m=se(a);if(!m)return;let e=Object.assign(l=>v(l),{acceptNode:v}),r=m.createTreeWalker(d,NodeFilter.SHOW_ELEMENT,e,!1);for(;r.nextNode();)o(r.currentNode)})}var he=(a=>(a[a.Open=0]="Open",a[a.Closed=1]="Closed",a))(he||{}),Ie=(a=>(a[a.Pointer=0]="Pointer",a[a.Other=1]="Other",a))(Ie||{});function xe(a){requestAnimationFrame(()=>requestAnimationFrame(a))}let V=Symbol("MenuContext");function $(a){let v=z(V,null);if(v===null){let o=new Error(`<${a} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(o,$),o}return v}let ye=k({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(a,{slots:v,attrs:o}){let f=S(1),d=S(null),m=S(null),e=S([]),r=S(""),l=S(null),x=S(1);function y(t=s=>s){let s=l.value!==null?e.value[l.value]:null,n=me(t(e.value.slice()),h=>b(h.dataRef.domRef)),i=s?n.indexOf(s):null;return i===-1&&(i=null),{items:n,activeItemIndex:i}}let u={menuState:f,buttonRef:d,itemsRef:m,items:e,searchQuery:r,activeItemIndex:l,activationTrigger:x,closeMenu:()=>{f.value=1,l.value=null},openMenu:()=>f.value=0,goToItem(t,s,n){let i=y(),h=fe(t===I.Specific?{focus:I.Specific,id:s}:{focus:t},{resolveItems:()=>i.items,resolveActiveIndex:()=>i.activeItemIndex,resolveId:p=>p.id,resolveDisabled:p=>p.dataRef.disabled});r.value="",l.value=h,x.value=n??1,e.value=i.items},search(t){let s=r.value!==""?0:1;r.value+=t.toLowerCase();let n=(l.value!==null?e.value.slice(l.value+s).concat(e.value.slice(0,l.value+s)):e.value).find(h=>h.dataRef.textValue.startsWith(r.value)&&!h.dataRef.disabled),i=n?e.value.indexOf(n):-1;i===-1||i===l.value||(l.value=i,x.value=1)},clearSearch(){r.value=""},registerItem(t,s){let n=y(i=>[...i,{id:t,dataRef:s}]);e.value=n.items,l.value=n.activeItemIndex,x.value=1},unregisterItem(t){let s=y(n=>{let i=n.findIndex(h=>h.id===t);return i!==-1&&n.splice(i,1),n});e.value=s.items,l.value=s.activeItemIndex,x.value=1}};return le([d,m],(t,s)=>{var n;u.closeMenu(),oe(s,re.Loose)||(t.preventDefault(),(n=b(d))==null||n.focus())},w(()=>f.value===0)),q(V,u),ue(w(()=>ie(f.value,{0:D.Open,1:D.Closed}))),()=>{let t={open:f.value===0,close:u.closeMenu};return O({ourProps:{},theirProps:a,slot:t,slots:v,attrs:o,name:"Menu"})}}}),_e=k({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(a,{attrs:v,slots:o,expose:f}){var d;let m=(d=a.id)!=null?d:`headlessui-menu-button-${N()}`,e=$("MenuButton");f({el:e.buttonRef,$el:e.buttonRef});function r(u){switch(u.key){case g.Space:case g.Enter:case g.ArrowDown:u.preventDefault(),u.stopPropagation(),e.openMenu(),P(()=>{var t;(t=b(e.itemsRef))==null||t.focus({preventScroll:!0}),e.goToItem(I.First)});break;case g.ArrowUp:u.preventDefault(),u.stopPropagation(),e.openMenu(),P(()=>{var t;(t=b(e.itemsRef))==null||t.focus({preventScroll:!0}),e.goToItem(I.Last)});break}}function l(u){switch(u.key){case g.Space:u.preventDefault();break}}function x(u){a.disabled||(e.menuState.value===0?(e.closeMenu(),P(()=>{var t;return(t=b(e.buttonRef))==null?void 0:t.focus({preventScroll:!0})})):(u.preventDefault(),e.openMenu(),xe(()=>{var t;return(t=b(e.itemsRef))==null?void 0:t.focus({preventScroll:!0})})))}let y=ce(w(()=>({as:a.as,type:v.type})),e.buttonRef);return()=>{var u;let t={open:e.menuState.value===0},{...s}=a,n={ref:e.buttonRef,id:m,type:y.value,"aria-haspopup":"menu","aria-controls":(u=b(e.itemsRef))==null?void 0:u.id,"aria-expanded":e.menuState.value===0,onKeydown:r,onKeyup:l,onClick:x};return O({ourProps:n,theirProps:s,slot:t,attrs:v,slots:o,name:"MenuButton"})}}}),Se=k({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(a,{attrs:v,slots:o,expose:f}){var d;let m=(d=a.id)!=null?d:`headlessui-menu-items-${N()}`,e=$("MenuItems"),r=S(null);f({el:e.itemsRef,$el:e.itemsRef}),be({container:w(()=>b(e.itemsRef)),enabled:w(()=>e.menuState.value===0),accept(t){return t.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:t.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(t){t.setAttribute("role","none")}});function l(t){var s;switch(r.value&&clearTimeout(r.value),t.key){case g.Space:if(e.searchQuery.value!=="")return t.preventDefault(),t.stopPropagation(),e.search(t.key);case g.Enter:if(t.preventDefault(),t.stopPropagation(),e.activeItemIndex.value!==null){let n=e.items.value[e.activeItemIndex.value];(s=b(n.dataRef.domRef))==null||s.click()}e.closeMenu(),K(b(e.buttonRef));break;case g.ArrowDown:return t.preventDefault(),t.stopPropagation(),e.goToItem(I.Next);case g.ArrowUp:return t.preventDefault(),t.stopPropagation(),e.goToItem(I.Previous);case g.Home:case g.PageUp:return t.preventDefault(),t.stopPropagation(),e.goToItem(I.First);case g.End:case g.PageDown:return t.preventDefault(),t.stopPropagation(),e.goToItem(I.Last);case g.Escape:t.preventDefault(),t.stopPropagation(),e.closeMenu(),P(()=>{var n;return(n=b(e.buttonRef))==null?void 0:n.focus({preventScroll:!0})});break;case g.Tab:t.preventDefault(),t.stopPropagation(),e.closeMenu(),P(()=>ge(b(e.buttonRef),t.shiftKey?F.Previous:F.Next));break;default:t.key.length===1&&(e.search(t.key),r.value=setTimeout(()=>e.clearSearch(),350));break}}function x(t){switch(t.key){case g.Space:t.preventDefault();break}}let y=pe(),u=w(()=>y!==null?(y.value&D.Open)===D.Open:e.menuState.value===0);return()=>{var t,s;let n={open:e.menuState.value===0},{...i}=a,h={"aria-activedescendant":e.activeItemIndex.value===null||(t=e.items.value[e.activeItemIndex.value])==null?void 0:t.id,"aria-labelledby":(s=b(e.buttonRef))==null?void 0:s.id,id:m,onKeydown:l,onKeyup:x,role:"menu",tabIndex:0,ref:e.itemsRef};return O({ourProps:h,theirProps:i,slot:n,attrs:v,slots:o,features:C.RenderStrategy|C.Static,visible:u.value,name:"MenuItems"})}}}),B=k({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(a,{slots:v,attrs:o,expose:f}){var d;let m=(d=a.id)!=null?d:`headlessui-menu-item-${N()}`,e=$("MenuItem"),r=S(null);f({el:r,$el:r});let l=w(()=>e.activeItemIndex.value!==null?e.items.value[e.activeItemIndex.value].id===m:!1),x=de(r),y=w(()=>({disabled:a.disabled,get textValue(){return x()},domRef:r}));H(()=>e.registerItem(m,y)),W(()=>e.unregisterItem(m)),j(()=>{e.menuState.value===0&&l.value&&e.activationTrigger.value!==0&&P(()=>{var p,T;return(T=(p=b(r))==null?void 0:p.scrollIntoView)==null?void 0:T.call(p,{block:"nearest"})})});function u(p){if(a.disabled)return p.preventDefault();e.closeMenu(),K(b(e.buttonRef))}function t(){if(a.disabled)return e.goToItem(I.Nothing);e.goToItem(I.Specific,m)}let s=ve();function n(p){s.update(p)}function i(p){s.wasMoved(p)&&(a.disabled||l.value||e.goToItem(I.Specific,m,0))}function h(p){s.wasMoved(p)&&(a.disabled||l.value&&e.goToItem(I.Nothing))}return()=>{let{disabled:p,...T}=a,U={active:l.value,disabled:p,close:e.closeMenu};return O({ourProps:{id:m,ref:r,role:"menuitem",tabIndex:p===!0?void 0:-1,"aria-disabled":p===!0?!0:void 0,onClick:u,onFocus:t,onPointerenter:n,onMouseenter:n,onPointermove:i,onMousemove:i,onPointerleave:h,onMouseleave:h},theirProps:{...o,...T},slot:U,attrs:o,slots:v,name:"MenuItem"})}}});const L="/build/assets/default-avatar-BvSivH7y.png",we={class:"fixed left-0 right-0 top-0 w-full border-b border-gray-300 bg-white px-6 py-[18px]"},Me={class:"container flex items-center justify-between"},Re={class:"flex gap-4"},Pe=c("span",{class:"sr-only"},"Open user menu",-1),ke=["src","alt"],Te={class:"font-poppins text-sm font-medium"},De={class:"h-10 w-10"},Oe=["src"],$e={class:"flex flex-col gap-1"},Ee={class:"font-poppins text-sm font-medium"},Ae={class:"text-wrap font-inter text-xs font-normal text-gray-500"},Ne={href:"/profile"},Ce={class:"flex items-center gap-2 font-poppins text-sm font-medium text-gray-900"},Fe=c("p",null,"Profile",-1),Be={type:"submit",class:"flex w-full cursor-pointer items-center gap-2 px-4 py-3 font-poppins text-sm font-medium text-danger-600 hover:bg-gray-100"},Le=c("p",null,"Logout",-1),qe=k({__name:"AppLayout",setup(a){function v(){ae.post("/logout")}return(o,f)=>(X(),Q(G,null,[c("header",we,[c("div",Me,[_(ne),c("div",Re,[_(M(ye),{as:"div",class:"relative"},{default:R(({open:d})=>[c("div",null,[_(M(_e),{class:"flex items-center gap-1"},{default:R(()=>[Pe,c("div",null,[c("img",{src:o.$page.props.user.avatar||M(L),height:"32",width:"32",alt:`${o.$page.props.user.name} avatar photo`,class:"rounded-full"},null,8,ke)]),c("p",Te,E(o.$page.props.user.name),1),_(A,{name:"chevron-down",class:Y(["h-4 w-4",{"rotate-180 transition":d,"rotate-0 transition":!d}])},null,8,["class"])]),_:2},1024)]),_(ee,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:R(()=>[_(M(Se),{class:"absolute right-0 z-10 mt-2 w-[250px] origin-top-right rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:R(()=>[_(M(B),{as:"div",class:"flex gap-1 px-4 py-3"},{default:R(()=>[c("div",De,[c("img",{src:o.$page.props.user.avatar||M(L),alt:"Default profile photo",height:"40",width:"40",class:"h-10 w-10 rounded-full"},null,8,Oe)]),c("div",$e,[c("h4",Ee,E(o.$page.props.user.name),1),c("p",Ae,E(o.$page.props.user.email),1)])]),_:1}),_(M(B),{as:"div",class:"px-4 py-3 hover:bg-gray-100"},{default:R(()=>[c("a",Ne,[c("div",Ce,[_(A,{name:"user"}),Fe])])]),_:1}),c("form",{onSubmit:te(v,["prevent"])},[c("button",Be,[_(A,{name:"logout"}),Le])],32)]),_:1})]),_:1})]),_:1})])])]),c("div",Z(o.$attrs,{class:"mx-auto max-w-[954px] pt-[104px]"}),[J(o.$slots,"default")],16)],64))}});export{Se as M,_e as S,qe as _,B as b,ye as g};
